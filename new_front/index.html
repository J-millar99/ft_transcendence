<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Awesome Icon Link -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <!-- Include custom CSS -->
    <link rel="stylesheet" href="./styles/FixedNavBar.css">
    <link rel="stylesheet" href="./styles/Global.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <title>Vite App</title>
  </head>
  <body>

    <!-- NavBar -->
    <nav class="navbar">
      <div class="navbar-container">
        <!-- Left: Logo -->
        <a href="/" class="navbar-brand">ft_transcendence</a>
        
        <!-- Center: Navigation Links -->
        <div class="navbar-center">
          <a href="/dashboard" class="nav-link" id="dashboard-link" data-router-link>dashboard</a>
          <a href="/play" class="nav-link">play</a>
        </div>
        
        <!-- Right: Language Dropdown & Auth Button -->
        <div class="d-flex align-items-center">
          <div class="dropdown">
            <button class="btn btn-outline-danger dropdown-toggle" type="button" id="languageDropdown" data-bs-toggle="dropdown" aria-expanded="false">
              <span class="dropdown-text">한국어</span>
              <i class="fa-solid fa-angle-down"></i>
            </button>
            <ul class="dropdown-menu" aria-labelledby="languageDropdown">
              <li class="dropdown-item active">
                <img src="./public/korean.png" alt="Korean" /> 한국어
                <i class="active_lang fa-solid fa-check"></i>
              </li>
              <li class="dropdown-item">
                <img src="./public/english.png" alt="English" /> English
                <i class="active_lang fa-solid fa-check"></i>
              </li>
              <li class="dropdown-item">
                <img src="./public/french.png" alt="French" /> French
                <i class="active_lang fa-solid fa-check"></i>
              </li>
            </ul>
          </div>
          <button id="auth-button" class="btn btn-outline-danger">로그인</button>
        </div>
      </div>
    </nav>
    
  
  

    <div id="app"></div>
    <script src="./src/utils/applyfont.js"></script>
    <script type="module" src="/src/app.js"></script>
  </body>
</html>

<script>
  document.addEventListener('DOMContentLoaded', () => {
      const authButton = document.getElementById('auth-button');
      const langDropdown = document.getElementById('languageDropdown');
      const langItems = document.querySelectorAll('.dropdown-item');

      // Language selection logic
      langItems.forEach(item => {
          item.addEventListener('click', (e) => {
              e.preventDefault();
          
              // 드롭다운 버튼에서 텍스트만 변경 (아이콘 제외)
              const selectedText = item.textContent.trim(); // 선택된 언어의 텍스트
              langDropdown.querySelector('.dropdown-text').textContent = selectedText;
          
              // 활성화 상태 업데이트
              langItems.forEach(lang => lang.classList.remove('active'));
              item.classList.add('active');
          });
      });
      

      // Authentication button logic
      authButton.addEventListener('click', () => {
          if (authButton.textContent === 'Login') {
              window.location.href = '/login';
          } else {
              // Implement logout logic
              alert('Logged out!');
              authButton.textContent = 'Login';
          }
      });

      // Highlight active link
      const navLinks = document.querySelectorAll('.nav-link');
      navLinks.forEach(link => {
          link.addEventListener('click', (e) => {
              navLinks.forEach(nav => nav.classList.remove('active'));
              link.classList.add('active');
          });
      });
  });
</script>
